<form [formGroup]="agreementForm" (ngSubmit)="submitForm()" style="padding: 10px;gap: 16px;">
  <mat-accordion style="width: 100%;" [multi]="true" >
    <!--    &lt;!&ndash; Sekcja Company &ndash;&gt;-->
    <mat-expansion-panel>
      <mat-expansion-panel-header >
        <mat-panel-title> Firma</mat-panel-title>
      </mat-expansion-panel-header>
      <div style="gap: 16px;">
<!--      <mat-form-field appearance="outline" style="padding: 10px;">-->
<!--        <mat-label>Nazwa firmy</mat-label>-->
<!--        <input matInput formControlName="name" required>-->
<!--      </mat-form-field>-->

        <mat-form-field appearance="outline" style="padding: 10px;">
          <mat-label>Firma</mat-label>
          <input type="text"
                 matInput
                 formControlName="client"
                 [matAutocomplete]="auto">

          <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayClient"
                            (optionSelected)="onClientSelected($event.option.value)">
            <mat-option *ngFor="let client of filteredClients$ | async" [value]="client">
              {{ client.company.name }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>

      <mat-form-field appearance="outline" style="padding: 10px;">
        <mat-label>NIP</mat-label>
        <input matInput formControlName="nip" required>
      </mat-form-field>

      <mat-form-field appearance="outline" style="padding: 10px;">
        <mat-label>REGON</mat-label>
        <input matInput formControlName="regon" required>
      </mat-form-field>

      <mat-form-field appearance="outline" style="padding: 10px;">
        <mat-label>Phone Number</mat-label>
        <input matInput formControlName="phoneNumber" required>
      </mat-form-field>

      <mat-form-field appearance="outline" style="padding: 10px;">
        <mat-label>Email</mat-label>
        <input matInput type="email" formControlName="addressEmail" required>
      </mat-form-field>

      </div>
    </mat-expansion-panel>

    <!-- Sekcja Address -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title> Adres firmy</mat-panel-title>
      </mat-expansion-panel-header>
      <mat-form-field appearance="outline" style="padding: 10px;">
        <mat-label>City</mat-label>
        <input matInput formControlName="city" required>
      </mat-form-field>

      <mat-form-field appearance="outline" style="padding: 10px;">
        <mat-label>Street</mat-label>
        <input matInput formControlName="street" required>
      </mat-form-field>

      <mat-form-field appearance="outline" style="padding: 10px;">
        <mat-label>Building Number</mat-label>
        <input matInput formControlName="buildingNumber" required>
      </mat-form-field>

      <mat-form-field appearance="outline" style="padding: 10px;">
        <mat-label>Apartment Number</mat-label>
        <input matInput type="number" formControlName="apartmentNumber" required>
      </mat-form-field>

      <mat-form-field appearance="outline" style="padding: 10px;">
        <mat-label>Postal Code</mat-label>
        <input matInput formControlName="postalCode" required>
      </mat-form-field>
    </mat-expansion-panel>

    <!-- Sekcja Agreement -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title> Umowa</mat-panel-title>
      </mat-expansion-panel-header>
      <mat-form-field appearance="outline" style="padding: 10px;">
        <mat-label>Start Date</mat-label>
        <input matInput type="date" formControlName="dateFrom" required>
      </mat-form-field>

      <mat-form-field appearance="outline" style="padding: 10px;">
        <mat-label>End Date</mat-label>
        <input matInput type="date" formControlName="dateTo" required>
      </mat-form-field>

      <mat-form-field appearance="outline" style="padding: 10px;">
        <mat-label>Period</mat-label>
        <input matInput type="number" formControlName="period" required>
      </mat-form-field>

      <mat-form-field appearance="outline" style="padding: 10px;">
        <mat-label>Cost per Hour</mat-label>
        <input matInput type="number" formControlName="costForServicePerHour" required>
      </mat-form-field>

      <mat-form-field appearance="outline" style="padding: 10px;">
        <mat-label>Agreement Number</mat-label>
        <input matInput formControlName="agreementNumber" required>
      </mat-form-field>
    </mat-expansion-panel>
  </mat-accordion>

  <button mat-raised-button color="primary" type="submit" >
    Zapisz
  </button>
</form>
